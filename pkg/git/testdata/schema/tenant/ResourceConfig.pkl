@go.Package { name = "github.com/Huang-Wei/25-kubecon-jp-codegen/go/generated/tenant/resource" }
module kubecon.demo.tenant.ResourceConfig

import "package://pkg.pkl-lang.org/pkl-go/pkl.golang@0.10.0#/go.pkl"
import "SelectorConfig.pkl"

kubernetes: Kubernetes

buckets: Listing<Bucket>(isDistinctBy((it) -> it.name))

class Kubernetes {
  /// namespaces defines the Kubernetes namespaces to be created.
  namespaces: Listing<String>(isDistinct)
  selector: Listing<SelectorConfig.Requirment>
}

class Bucket {
  name: String
  ttl: String(matches(Regex(#"^\d+(d)$"#)))?
  selector: Listing<SelectorConfig.Requirment>
}
